namespace = mission_nor
namespace = flavor_nor
namespace = nor_great_expidition
namespace = nor_sami_exploration
namespace = nor_bombing
namespace = test_nor
namespace = quick_nor
namespace = nor_side_expidition

#Event for testing out stuff
country_event = {
    id = test_nor.1
    title = test_nor.1.t
    desc = test_nor.1.d
    picture = CORSAIR_eventPicture
    
    is_triggered_only = yes

    immediate = {
        add_government_reform = BM_norwegian_balance_of_power
    }

    option = {
        name = test_nor.1.a
    }
}
# Event for giving ships to NWC
country_event = { #still needs localisation
    id = mission_nor.1
    title = mission_nor.1.t
    desc = mission_nor.1.d
    picture = SHIP_SAILING_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.1.a
        370 = {
            while = {
                limit = {
                    NOT = {
                        check_variable = {
                            which = nor_transfer_total_light_ships
                            value = 1
                        }
                    }
                }
                light_ship = NWC
                ROOT = {
                    subtract_variable = {
                        which = nor_transfer_total_light_ships
                        value = 1
                    }
                }
            }
        }
    }
}

# Event for officialising the colonial charter for NWC
country_event = { #still needs localisation
    id = flavor_nor.1
    title = flavor_nor.1.t
    desc = flavor_nor.1.d
    picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture

    is_triggered_only = yes

    option = {
        name = flavor_nor.1.a
        create_subject = {
            subject_type = private_enterprise
            subject = NWC
        }
    }
}

#Event for turning the NWC into a colonial nation
country_event = { #still needs localisation
    id = flavor_nor.4
    title = flavor_nor.4.t
    desc = flavor_nor.4.d
    picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture

    is_triggered_only = yes

    option = {
        name = flavor_nor.4.a
        #nothing hapens, this is just flavour
    }
}

# Event for finishing mountain paths norway
country_event = { #still needs localisation
    id = mission_nor.2
    title = mission_nor.2.t
    desc = mission_nor.2.d
    picture = USA_COLONIZATION_eventPicture

    is_triggered_only = yes

    immediate = {
        event_target:nor_road = {
            remove_province_modifier = nor_mountain_paths_construction
            add_province_modifier = {
                name = "nor_mountain_paths"
                duration = -1
            }
        }
    }

    option = {
        name = mission_nor.2.a
        clear_global_event_target = nor_road
    }
}

# Event for exploring Asia and coming up with the idea for the explorers guild
country_event = { #still needs localisation
    id = flavor_nor.2
    title = flavor_nor.2.t
    desc = flavor_nor.2.d
    picture = CORSAIR_eventPicture

    is_triggered_only = yes

    immediate = {
        add_estate_influence_modifier = {
            estate = estate_burghers
            desc = EST_VAL_EXPLORATION_INTREST_BURGHERS
            influence = 10
            duration = 7300
        }
        add_estate_loyalty = {
            estate = estate_burghers
            loyalty = 20
        }
    }

    option = {
        name = flavor_nor.2.a
        #nothing hapens, this is just flavour
    }
}

# Event for discovering airships and starting research
country_event = { #still needs localisation
    id = mission_nor.3
    title = mission_nor.3.t
    desc = mission_nor.3.d
    picture = ASTRONOMER_eventPicture

    is_triggered_only = yes

    immediate = {
        add_treasury  = -1000
        province_event = {
            id = mission_nor.4
            days = 500
        }
    }

    option = {
        name = mission_nor.3.a
    }
}

# Event for the first flight of the norwegian skyships
province_event = { #still needs localisation
    id = mission_nor.4
    title = mission_nor.4.t
    desc = mission_nor.4.d
    picture = CITY_VIEW_eventPicture

    is_triggered_only = yes

    immediate = {
        20 = {
            set_province_flag = nor_can_build_skyport_opplanda
            hidden_effect = { add_great_project = { type = nor_central_skyport_opplanda instant = yes } }
        }
        2564 = {
            set_province_flag = nor_can_build_skyport_america
            hidden_effect = { add_great_project = { type = nor_central_skyport_america instant = yes } }
        }
    }

    option = {
        name = mission_nor.4.a
        set_global_flag = nor_completed_airships
    }
}

# Event for the propulsion problem
country_event = { #still needs localisation
    id = mission_nor.5
    title = mission_nor.5.t
    desc = mission_nor.5.d
    picture = WESTERNISATION_eventPicture

    is_triggered_only = yes

    # Just use boats and horses bro, but i'll invest in better paths and boats
    option = {
        name = mission_nor.5.a
        add_treasury = -500
        add_adm_power = -100
        add_dip_power = -100
        add_mil_power = -100
        country_event = {
            id = mission_nor.6
            days = 100
        }
    }

    # You can try the hand powered propelor idea i guess
    option = {
        name = mission_nor.5.b
        trigger = {
            innovativeness = 75
        }
        add_treasury = -1000
        add_adm_power = -200
        add_dip_power = -200
        add_mil_power = -200
        country_event = {
            id = mission_nor.7
            days = 200
        }
    }

    # What is this windmil propelor combo that you mentioned?
    option = {
        name = mission_nor.5.c
        trigger = {
            innovativeness = 95
        }
        add_treasury = -2000
        add_adm_power = -400
        add_dip_power = -400
        add_mil_power = -400
        country_event = {
            id = mission_nor.8
            days = 400
        }
    }
}

#Event for better infrastructure airships
country_event = { #still needs localisation
    id = mission_nor.6
    title = mission_nor.6.t
    desc = mission_nor.6.d
    picture = FARMING_eventPicture

    is_triggered_only = yes

    immediate = {
        add_country_modifier = {
            name = "nor_pulled_skyships"
            duration = 18250
        }
    }

    option = {
        name = mission_nor.6.a
    }
}

#Event for manual propellor
country_event = { #still needs localisation
    id = mission_nor.7
    title = mission_nor.7.t
    desc = mission_nor.7.d
    picture = INVENTION_eventPicture

    is_triggered_only = yes

    immediate = {
        add_country_modifier = {
            name = "nor_manual_skyships"
            duration = 18250
        }
    }

    option = {
        name = mission_nor.7.a
    }
}

#Event for windmill propellor
country_event = { #still needs localisation
    id = mission_nor.8
    title = mission_nor.8.t
    desc = mission_nor.8.d
    picture = EP_ISLAND_eventPicture

    is_triggered_only = yes

    immediate = {
        add_country_modifier = {
            name = "nor_windmill_skyships"
            duration = 18250
        }
    }

    option = {
        name = mission_nor.8.a
    }
}

#Event for project selvvind
country_event = { 
    id = mission_nor.9
    title = mission_nor.9.t
    desc = mission_nor.9.d
    picture = INVENTION_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.9.a
        hidden_effect = {
            country_event = {
                id = mission_nor.10
                days = 2000
            }
        }
    }
}

#Event for completing project selvvind
country_event = {
    id = mission_nor.10
    title = mission_nor.10.t
    desc = mission_nor.10.d
    picture = ENLIGHTENMENT_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.10.a
        add_country_modifier = {
            name = "nor_aerial_steam_engines"
            duration = -1
        }
    }
}

#Event for starting project tidtaker
country_event = { #still needs localisation
    id = mission_nor.11
    title = mission_nor.11.t
    desc = mission_nor.11.d
    picture = INVENTION_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.11.a
        add_country_modifier = {
            name = "nor_developing_chronometer"
            duration = 2555
        }
        country_event = {
            id = mission_nor.12
            days = 2555
        }
    }
}

#Event for completing project tidtaker
country_event = { #still needs localisation
    id = mission_nor.12
    title = mission_nor.12.t
    desc = mission_nor.12.d
    picture = NAVAL_MILITARY_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.12.a
        add_country_modifier = {
            name = "nor_accurate_chronometers"
            duration = -1
        }
    }
}

#Capstone event for completing the mission tree, it will be about starting research on the difference engine
country_event = { #still needs localisation
    id = mission_nor.13
    title = mission_nor.13.t
    desc = mission_nor.13.d
    picture = TEMPORAL_RIFT_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.13.a
    }
}

#Event for turning iceland into NWC
country_event = { #still needs localisation
    id = mission_nor.14
    title = mission_nor.14.t
    desc = mission_nor.14.d
    picture = REFORM_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.14.a
        add_government_reform = BM_NWC_corperate_althing
        change_tag = NWC
        369 = {
            add_core = NWC
            cede_province = NWC
        }
        1978 = {
            add_core = NWC
            cede_province = NWC
        }
        1979 = {
            add_core = NWC
            cede_province = NWC
        }
    }
}

#Event for explaining the influences of Chroniclism and the establishment of Beghards
country_event = { #still needs localisation
    id = mission_nor.15
    title = mission_nor.15.t
    desc - mission_nor.15.d
    picture = REFORM_eventPicture

    is_triggered_only = yes

    option = {
        name = mission_nor.15.a
        add_church_power = 10
    }
}

#Event for selecting who to bomb
country_event = { #still needs localisation
    id = nor_bombing.1
    title = nor_bombing.1.t
    desc = nor_bombing.1.d
    picture = VILLAGE_BURNING_eventPicture

    is_triggered_only = yes 

    immediate = {
        hidden_effect = {
			if = {
				limit = { NOT = { has_saved_event_target = bombing1 } }
				select_bombing_location = yes
			}
		}
    }

    after = {
		hidden_effect = {
            every_war_enemy_country = {
                every_province = {
                    limit = { has_province_flag = bombing_@ROOT }
                    clr_province_flag = bombing_@ROOT
                }
            }
		}
	}

    # Go back
    option = {
        name = nor_bombing.1.a
        add_treasury = 1500
        change_variable = {
            which = norBombsStorage 
            value = 1
        }
	}

    # Bombing
    option = {
        name = nor_bombing.1.b
		trigger = { has_saved_event_target = bombing1 }
		goto = bombing1
		custom_tooltip = nor_bombing.1.tooltip1
		event_target:bombing1 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.c
		trigger = { has_saved_event_target = bombing2 }
		goto = bombing2
		custom_tooltip = nor_bombing.1.tooltip2
		event_target:bombing2 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.d
		trigger = { has_saved_event_target = bombing3 }
		goto = bombing3
		custom_tooltip = nor_bombing.1.tooltip3
		event_target:bombing3 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.e
		trigger = { has_saved_event_target = bombing4 }
		goto = bombing4
		custom_tooltip = nor_bombing.1.tooltip4
		event_target:bombing4 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.f
		trigger = { has_saved_event_target = bombing5 }
		goto = bombing5
		custom_tooltip = nor_bombing.1.tooltip5
		event_target:bombing5 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.g
		trigger = { has_saved_event_target = bombing6 }
		goto = bombing6
		custom_tooltip = nor_bombing.1.tooltip6
		event_target:bombing6 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.h
		trigger = { has_saved_event_target = bombing7 }
		goto = bombing7
		custom_tooltip = nor_bombing.1.tooltip7
		event_target:bombing7 = { province_event = { id = nor_bombing.2 } }
	}

    option = {
        name = nor_bombing.1.i
		trigger = { has_saved_event_target = bombing8 }
		goto = bombing8
		custom_tooltip = nor_bombing.1.tooltip8
		event_target:bombing8 = { province_event = { id = nor_bombing.2 } }
	}
}

# Event for the actual bombing
province_event = { #still needs localisation
    id = nor_bombing.2
    title = nor_bombing.2.t
    desc = nor_bombing.2.d
    picture = EP_MANIHOLE_HELMET_eventPicture
    goto = ROOT

    is_triggered_only = yes

    option = {
        name = nor_bombing.2.a
        ROOT = {
            change_controller = FROM
            add_devastation = 75
        }
        add_province_modifier = {
            name = "nor_bombing_run"
            duration = 1825
        }
    }
}

country_event = { #still needs localisation
    id = nor_bombing.3
    title = nor_bombing.3.t
    desc = nor_bombing.3.d
    picture = EP_MANIHOLE_HELMET_eventPicture

    is_triggered_only = yes

    immediate = {
        set_variable = {
            which = norBombsStorage
            value = 1
        }
    }

    option = {
        name = nor_bombing.3.a
    }
}

country_event = { #still needs localisation
    id = nor_bombing.4
    title = nor_bombing.4.t
    desc = nor_bombing.4.d
    picture = SWORD_OF_OSMAN_eventPicture

    trigger = {
        has_global_flag = nor_bombs_away
        check_variable = {
            which = norBombsStorage
            value = 0
        }
        NOT = {
            check_variable = {
                which = norBombsStorage
                value = 5
            }
        }
    }

    mean_time_to_happen = {
        months = 30
    }

    option = {
        name = nor_bombing.4.a
        change_variable = {
            which = norBombsStorage
            value = 1
        }
    }
}
######## Remove #'s to make the events work again!
# Event for triggering the Finnmörk expidition
#country_event = { #still needs localisation and be finished
#    id = nor_sami_exploration.1
#    title = nor_sami_exploration.1.t
#    desc = nor_sami_exploration.1.d
#    picture =
#
#    is_triggered_only = yes
#
#    option = {
#        name = nor_sami_exploration.1.a
#        #finish this
#    }
#}

#################################
# The great expidition missions #
#################################

# Event for starting the great expidition
country_event = {
    id = nor_great_expidition.1
    title = nor_great_expidition.1.t
    desc = nor_great_expidition.1.d
    picture = STREET_SPEECH_eventPicture

    is_triggered_only = yes

    option = {
        name = nor_great_expidition.1.a
        #country_event = {
        #        id = nor_great_expidition.2
        #        days = 30
        #    }
        NWC = {
            country_event = {
                id = nor_great_expidition.2
                days = 30
            }
        }
        if = {
            limit = {
                check_variable = {
                    which = nor_expidition_total_light_ships
                    value = 50
                }
            }
            add_prestige = 100
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 45
                }
                add_prestige = 90
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 40
                }
                add_prestige = 80
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 35
                }
                add_prestige = 70
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 30
                }
                add_prestige = 60
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 25
                }
                add_prestige = 50
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 20
                }
                add_prestige = 40
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 15
                }
                add_prestige = 30
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 10
                }
                add_prestige = 20
            }
        }
        else_if = {
            limit = {
                check_variable ={
                    which = nor_expidition_total_light_ships
                    value = 5
                }
                add_prestige = 10
            }
        }
    }
}

# Arriving in Greenland
country_event = {
    id = nor_great_expidition.2
    title = nor_great_expidition.2.t
    desc = nor_great_expidition.2.d
    picture = TRADEGOODS_eventPicture

    is_triggered_only = yes

    after = {
        hidden_effect = {
            set_variable = {
                which = GE_storage_space_left
                value = 4
            }
            country_event = {
                id = nor_great_expidition.3
                days = 120
            }
        }
    }

    #Take the experienced whalers with you
    option = {
        name = nor_great_expidition.2.a
        set_global_flag = GE_whalers_taken
        custom_tooltip = GE_storage_capacity_explainer_tt
        hidden_effect = {
            subtract_variable_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        custom_tooltip = GE_storage_capacity_tt
    }

    #Leave the whalers, our supplies are already barely enough
    option = {
        name = nor_great_expidition.2.b
        set_global_flag = GE_whalers_left
        custom_tooltip = GE_storage_capacity_explainer_tt
    }
}

#Arriving on baffin island, also known as Helluland
country_event = {
    id = nor_great_expidition.3
    title = nor_great_expidition.3.t
    desc = nor_great_expidition.3.d
    picture = COLONIZATION_eventPicture

    is_triggered_only = yes

    #The whalers recognize these as just useless rocks, the same as are found in northern Greenland, but do spot some narwhals and kill them for their tusks
    option = {
        name = nor_great_expidition.3.a
        trigger = { has_global_flag = GE_whalers_taken }
        add_treasury = 50
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.4
                days = 90
            }
        }
    }

    #No whalers onboard, so it just looks like silver
    option = {
        name = nor_great_expidition.3.b
        trigger = { has_global_flag = GE_whalers_left }
        subtract_variable_variable = {
            which = GE_storage_space_left
            value = 2
        }
        set_global_flag = GE_took_useless_rocks
        custom_tooltip = GE_storage_capacity_tt
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.4
                days = 180
            }
        }
    }
}

#The enterance to the Hudson bay, known by the natives as Wînipâkw
country_event = {
    id = nor_great_expidition.4
    title = nor_great_expidition.4.t
    desc = nor_great_expidition.4.d 
    picture = NAVAL_MILITARY_eventPicture
    
    is_triggered_only = yes
    
    #We finally meet the Skrealings, and explore the bay further
    option = {
        name = nor_great_expidition.4.a
        highlight = yes
        custom_tooltip = GE_side_exploration_tt
        set_global_flag = GE_did_side_exploration
        hidden_effect = {
            country_event = {
                id = nor_side_expidition.1
                days = 30
            }
        }
    }

    #We meet natives, but decide that we would rather go south to Markland
    option = {
        name = nor_great_expidition.4.b
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.5
                days = 60
            }
        }
    }
}

#Ariving at the bottom of James bay
country_event = {
    id = nor_side_expidition.1
    title = nor_side_expidition.1.t
    desc = nor_side_expidition.1.d
    picture = MILITARY_CAMP_eventPicture

    is_triggered_only = yes

    #An abundance of beavers
    option = {
        name = nor_side_expidition.1.a
        hidden_effect = {
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        set_global_flag = GE_collected_beaver_hides
        custom_tooltip = GE_storage_capacity_tt
        hidden_effect = {
            country_event = {
                id = nor_side_expidition.2
                days = 30
            }
        }
    }
}

#Arriving at the western part of the bay
country_event = {
    id = nor_side_expidition.2
    title = nor_side_expidition.2.t 
    desc = nor_side_expidition.2.d 
    picture = GENERALS_DISCUSSING_eventPicture

    is_triggered_only = yes

    #unfortunatly, it is a bay, not a seaway
    option = {
        name = nor_side_expidition.2.a
        set_global_flag = GE_explored_hudson
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.5
                days = 90
            }
        }
    }
}

#arriving in Markland and meeting the natives
country_event = {
    id = nor_great_expidition.5
    title = nor_great_expidition.5.t
    desc = nor_great_expidition.5.d
    picture = NATIVES_eventPicture

    is_triggered_only = yes

    #meet natives, find out about stranded whaler, take him and natives as translator
    option = {
        name = nor_great_expidition.5.a
        add_prestige = 5
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.6
                days = 60
            }
        }
    }
}

#arriving in Newfoundland, also known as Vinland
country_event = {
    id = nor_great_expidition.6
    title = nor_great_expidition.6.t
    desc = nor_great_expidition.6.d 
    picture = HARBOUR_eventPicture

    is_triggered_only = yes

    after = {
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.7
                days = 60
            }
        }
    }

    #Finding L'Anse aux Meadows, set up camp and fishing
    option = {
        name = nor_great_expidition.6.a
        hidden_effect = {
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        custom_tooltip = GE_storage_capacity_tt
    }
    
    #Finding L'Anse aux Meadows, set up camp and fishing, whalers go whaling 
    option = {
        name = nor_great_expidition.6.b
        highlight = yes
        hidden_effect = {
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        custom_tooltip = GE_storage_capacity_tt
        add_treasury = 50
    }
}

#Ariving at the mouth of the St.Lawrence
country_event = {
    id = nor_great_expidition.7
    title = nor_great_expidition.7.t
    desc = nor_great_expidition.7.d 
    picture = EXPLORERS_eventPicture

    is_triggered_only = yes

    #Lets explore up the St.Lawrence
    option = {
        name = nor_great_expidition.7.a
        trigger = {
            NOT = {
                has_global_flag = GE_did_side_exploration
            }
        }
        highlight = yes 
        custom_tooltip = GE_side_exploration_tt
        set_global_flag = GE_did_side_exploration
        hidden_effect = {
            country_event = {
                id = nor_side_expidition.3
                days = 30
            }
        }
    }

    #Save the resources
    option = {
        name = nor_great_expidition.7.b
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.8
                days = 90
            }
        }
    }
}

#Exploring up the St.Lawrence
country_event = {
    id = nor_side_expidition.3
    title = nor_side_expidition.3.t
    desc = nor_side_expidition.3.d 
    picture = CORRUPTION_eventPicture

    is_triggered_only = yes 

    #Trade with the natives along the St.Lawrence, leave the ships
    option = {
        name = nor_side_expidition.3.a
        hidden_effect = {
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
            subtract_variable = {
                which = nor_expidition_total_light_ships
                value = 5
            }
            country_event = {
                id = nor_side_expidition.4
                days = 30
            }
        }
        custom_tooltip = GE_leaving_ships_tt
        custom_tooltip = GE_storage_capacity_tt
        set_global_flag = GE_traded_with_natives
    }

    #Trade but don't leave ships
    option = {
        name = nor_side_expidition.3.b
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.8
                days = 60
            }
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        custom_tooltip = GE_storage_capacity_tt
        set_global_flag = GE_traded_with_natives
    }
}

#Event for getting to the great lakes
country_event = {
    id = nor_side_expidition.4
    title = nor_side_expidition.4.t 
    desc = nor_side_expidition.4.d 
    picture = TRADE_GOODS_FURS_FISH_AND_SALT_eventPicture

    is_triggered_only = yes

    #The natives start getting a bit agressive and supplies get low, so they go back
    option = {
        name = nor_side_expidition.4.a
        set_global_flag = GE_explored_great_lakes
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.8
                days = 90
            }
        }
    }
}

# Event for landing near the mikmaq
country_event = {
    id = nor_great_expidition.8
    title = nor_great_expidition.8.t 
    desc = nor_great_expidition.8.d 
    picture = ECONOMY_eventPicture

    is_triggered_only = yes

    after = {
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.9
                days = 60
            }
        }
    }

    #Partake in the gift giving ceremony with the mikmaq
    option = {
        name = nor_great_expidition.8.a 
        trigger = {
            check_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        hidden_effect = {
            subtract_variable = {
                which = GE_storage_space_left
                value = 1
            }
        }
        custom_tooltip = GE_storage_capacity_tt
        set_global_flag = GE_gifts_to_mikmaq
    }

    #Too expensive
    option = {
        name = nor_great_expidition.8.b 
    }
}

#Event for arriving in the southern tip of nova scotia and returning to Newfoundland or taking the last side expedition
country_event = {
    id = nor_great_expidition.9
    title = nor_great_expidition.9.t 
    desc = nor_great_expidition.9.d 
    picture = LAND_MILITARY_eventPicture

    is_triggered_only = yes 

    #Go south and help the natives win their war
    option = {
        name = nor_great_expidition.9.a
        trigger = {
            NOT = {
                has_global_flag = GE_did_side_exploration
            }
        }
        highlight = yes
        custom_tooltip = GE_side_exploration_tt
        hidden_effect = {
            country_event = {
                id = nor_side_expidition.5
                days = 30
            }
        }
    }

    #Return to Newfoundland
    option = {
        name = nor_great_expidition.9.b
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.10
                days = 90
            }
        }
    }
}

#Witnessing a battle
country_event = {
    id = nor_side_expidition.5
    title = nor_side_expidition.5.t 
    desc = nor_side_expidition.5.d 
    picture = WOUNDED_SOLDIERS_eventPicture

    is_triggered_only = yes 

    #Cool to see them fight, now lets go further south
    option = {
        name = nor_side_expidition.5.a 
        set_global_flag = GE_saw_natives_fight
        add_army_tradition = 10
        hidden_effect = {
            country_event = {
                id = nor_side_expidition.6
                days = 30
            }
        }
    }
}

#A long island
country_event = {
    id = nor_side_expidition.6
    title = nor_side_expidition.6.t 
    desc = nor_side_expidition.6.d 
    picture = FARMING_WIFE_eventPicture

    is_triggered_only = yes

    option = {
        name = nor_side_expidition.6.a 
        set_global_flag = GE_explored_new_england
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.10
                days = 90
            }
        }
    }
}

#Return to Vinland
country_event = {
    id = nor_great_expidition.10
    title = nor_great_expidition.10.t 
    desc = nor_great_expidition.10.d 
    picture = JURAJ_JANOSIK_eventPicture

    is_triggered_only = yes 

    option = {
        name = nor_great_expidition.10.a
        add_treasury = 25
        hidden_effect = {
            country_event = {
                id = nor_great_expidition.11
                days = 180
            }
            NOR = {
                country_event = {
                    id = nor_great_expidition.11
                    days = 180
                }
            }
        }
    }
}

#Arriving in Norway
country_event = {
    id = nor_great_expidition.11
    title = nor_great_expidition.11.t 
    desc = nor_great_expidition.11.d
    picture = DECLARATION_INDEPENDENCE_eventPicture

    is_triggered_only = yes

    immediate = {
        hidden_effect = {
            europe_superregion = {
                every_country = { 
                    limit = {
                        was_player = yes
                    }
                    country_event = {
                        id = nor_great_expidition.12
                        days = 10
                    }
                }
            }
        }
    }

    option = {
        name = nor_great_expidition.11.a
        canada_region = {
            discover_country = ROOT
        }
        sea_of_labrador_area = {
            discover_country = ROOT
        }
        gulf_of_st_lawrence_area = {
            discover_country = ROOT
        }
        if = {
            limit = {
                has_global_flag = GE_took_useless_rocks
            }
            add_prestige = -25
            custom_tooltip = GE_rocks_end_tt
        }
        if = {
            limit = {
                has_global_flag = GE_collected_beaver_hides
            }
            add_country_modifier = {
                name = "GE_nor_sold_beaver_hides"
                duration = 7300
            }
            custom_tooltip = GE_sold_beaver_hides_tt
        }
        if = {
            limit = {
                has_global_flag = GE_explored_hudson
            }
            hudson_bay_area = {
                discover_country = ROOT
            }
            james_bay_area = {
                discover_country = ROOT
            }
            hudson_bay_sea_area = {
                discover_country = ROOT
            }
            custom_tooltip = GE_explored_hudson_tt
        }
        if = {
            limit = {
                has_global_flag = GE_traded_with_natives
            }
            add_country_modifier = {
                name = "GE_nor_trade_with_natives"
                duration = 7300
            }
            custom_tooltip = GE_nor_trade_with_natives_tt
        }
        if = {
            limit = {
                has_global_flag = GE_explored_great_lakes
            }
            michigan_area = {
                discover_country = ROOT
            }
            wisconsin_area = {
                discover_country = ROOT
            }
            lake_superior_area = {
                discover_country = ROOT
            }
            custom_tooltip = GE_explored_great_lakes_tt
        }
        if = {
            limit = {
                has_global_flag = GE_gifts_to_mikmaq
            }
            add_country_modifier = {
                name = "GE_nor_mikmaq_colony"
                duration = 7300
            }
            custom_tooltip = GE_gifts_to_mikmaq_tt
        }
        if = {
            limit = {
                has_global_flag = GE_saw_natives_fight 
            }
            add_country_modifier = {
                name = "GE_nor_native_fights"
                duration = 7300
            }
            custom_tooltip = GE_saw_natives_fight_tt
        }
        if = {
            limit = {
                has_global_flag = GE_explored_new_england 
            }
            eastern_maine_area = {
                discover_country = ROOT
            }
            maine_area = {
                discover_country = ROOT
            }
            great_woods_area = {
                discover_country = ROOT
            }
            massachusetts_bay_area = {
                discover_country = ROOT
            }
            connecticut_valley_area = {
                discover_country = ROOT
            }
            new_york_area = {
               discover_country = ROOT 
            }
            custom_tooltip = GE_explored_new_england_tt
        }
        while = {
            limit = {
                check_variable = {
                    which = nor_expidition_total_light_ships
                    value = 1
                }
            }
            add_treasury = 5
            if = {
                limit = {
                    tag = NOR
                }
                20 = {
                    light_ship = NOR
                }
            }
            subtract_variable = {
                which = nor_expidition_total_light_ships
                value = 1
            }
        }
    }
}

country_event = {
    id = nor_great_expidition.12
    title = nor_great_expidition.12.t 
    desc = nor_great_expidition.12.d 
    picture = muslimgfx_OVEREXTENSION_eventPicture

    is_triggered_only = yes 

    option = {
        name = nor_great_expidition.12.a
        canada_region = {
            discover_country = ROOT
        }
        sea_of_labrador_area = {
            discover_country = ROOT
        }
        gulf_of_st_lawrence_area = {
            discover_country = ROOT
        }
        if = {
            limit = {
                has_global_flag = GE_explored_hudson
            }
            hudson_bay_area = {
                discover_country = ROOT
            }
            james_bay_area = {
                discover_country = ROOT
            }
            hudson_bay_sea_area = {
                discover_country = ROOT
            }
        }
        if = {
            limit = {
                has_global_flag = GE_explored_great_lakes
            }
            michigan_area = {
                discover_country = ROOT
            }
            wisconsin_area = {
                discover_country = ROOT
            }
            lake_superior_area = {
                discover_country = ROOT
            }
        }
        if = {
            limit = {
                has_global_flag = GE_explored_new_england 
            }
            eastern_maine_area = {
                discover_country = ROOT
            }
            maine_area = {
                discover_country = ROOT
            }
            great_woods_area = {
                discover_country = ROOT
            }
            massachusetts_bay_area = {
                discover_country = ROOT
            }
            connecticut_valley_area = {
                discover_country = ROOT
            }
            new_york_area = {
               discover_country = ROOT 
            }
        }
    }
}