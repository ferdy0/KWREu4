namespace = levantine_events

country_event = {
	id = levantine_events.2
	title = "levantine_events.2.t"
	desc = "levantine_events.2.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1475
		is_month = 6
		current_guru_is = primacy_jerusalem
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 7
	}
	
	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.2.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.3
	title = "levantine_events.3.t"
	desc = "levantine_events.3.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1510
		is_month = 3
		current_guru_is = wealth_merchants
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 26
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.3.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.4
	title = "levantine_events.4.t"
	desc = "levantine_events.4.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1532
		is_month = 9
		current_guru_is = veneration_saints
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.4.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.5
	title = "levantine_events.5.t"
	desc = "levantine_events.5.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1559
		is_month = 9
		current_guru_is = crusader_inheritance
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.5.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.6
	title = "levantine_events.6.t"
	desc = "levantine_events.6.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1578
		is_month = 6
		current_guru_is = on_communes
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 25
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.6.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.7
	title = "levantine_events.7.t"
	desc = "levantine_events.7.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1612
		is_month = 3
		current_guru_is = role_priest
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 3
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.7.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.8
	title = "levantine_events.8.t"
	desc = "levantine_events.8.d"
	picture = NEW_HEIR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1643
		is_month = 3
		current_guru_is = command_army
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 6
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.8.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.9
	title = "levantine_events.9.t"
	desc = "levantine_events.9.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1672
		is_month = 3
		current_guru_is = monastic_wealth
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 20
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.9.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.10
	title = "levantine_events.10.t"
	desc = "levantine_events.10.d"
	picture = ADVISOR_eventPicture

	trigger = {
		religion = levantine
		is_year = 1700
		is_month = 3
		NOT = { is_year = 1708 }
		current_guru_is = nationalism_imperialism
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 11
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.10.a"
		appoint_next_guru = yes
	}
}

country_event = {
	id = levantine_events.11
	title = "levantine_events.11.t"
	desc = "levantine_events.11.d"
	picture = BIG_BOOK_eventPicture

	trigger = {
		religion = levantine
		is_year = 1727
		is_month = 3
		current_guru_is = rights_of_boi
		NOT = { has_global_flag = guru_event_happening }
	}

	mean_time_to_happen = {
		days = 7
	}

	immediate = {
		set_global_flag = guru_event_happening
	}

	after = {
		clr_global_flag = guru_event_happening
	}

	option = {
		name = "levantine_events.11.a"
		appoint_next_guru = yes
	}
}

# Abolish slavery
country_event = {
	id = levantine_events.12
	title = "levantine_events.12.t"
	desc = "levantine_events.12.d"
	picture = BIG_BOOK_eventPicture

	is_triggered_only = yes

	option = {
		name = "levantine_events.12.a"
		add_prestige = 5
        add_country_modifier = {
            name = innovative_modifier
            duration = 3650
        }
        add_country_modifier = {
            name = "the_abolish_slavery_act"
            duration = -1
        }
        custom_tooltip = abolished_slavery_act_tooltip
        hidden_effect = {
            every_owned_province = {
        	    limit = {
        		    trade_goods = slaves
        		}
        		change_trade_goods = unknown
        		remove_building = tradecompany
        		if = {
        		    limit = { has_province_modifier = slave_entrepot }
        		    remove_province_modifier = slave_entrepot
        		}
        	}
        }
	}
}